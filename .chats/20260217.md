# plan阶段调整

plan阶段如下调整：
1. plan阶段，当用户输入需求描述后，直接给出了设计，这样不对，不需要先给出完整的设计，应该先理解用户的意图，接着有一个设计跟用户讨论。
2. .coda和分支名称不需要0001-这样的编号，直接用slug。

先给出方案，不要修改代码。

# 执行阶段调整

run阶段添加进度信息，显示当前正在执行哪个阶段

.coda目录也需要提交到git，这样每次run后，.coda目录也会被提交到git。


再仔细 review 整个 run 流程，告诉我详细的run 的路径，每个phase的prompt，撰写完之后 code review（如何fix code review 结果），如何做verify（如何fix verify 中的问题），如何提交PR（PR需要做attribution- something like generated by CODA）


需要考虑run中断状态， run流程首先要加载状态并确定启始phase，找到第一个为完成的phase， 然后从该phase开始执行。


review->fix->review, verify->fix->verify, 都需要循环

仔细阅读这部分代码，看看设计是否合理，是否符合 SOLID原则，有没有不够DRY的部分，是不是可以有更好的 interface，interface 是否足够简单清晰，容易使用，不容易误用。解释你的想法和计划，不要修改。

依次修复 p0-p2 的所有问题，每个问题修复完成之后测试并提交


# update-readme

update README.md to reflect the latest code. Provide better user guide.

# gba clean

添加一个命令， `gba clean`，它会扫描已有的 git worktree, 找到对应的 PR， 如果 PR close/merged，则删除本地相应的worktree 和 branch。



仔细阅读apps/crates下代码，看看设计是否合理，是否符合 SOLID原则，有没有不够DRY的部分，是不是可以有更好的 interface，interface 是否足够简单清晰，容易使用，不容易误用。解释你的想法和计划，不要修改。