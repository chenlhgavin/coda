# CODA Project Configuration
version: 1

agent:
  model: "claude-opus-4-6"
  permission_mode: "auto"
  max_retries: 3

# Per-operation agent backend overrides.
# Each operation can independently set backend (claude/codex/cursor), model, and effort.
# Omitted fields inherit from agent.model (for claude/cursor) or review.codex_model (for codex).
agents:
  init:
    backend: claude
    model: "claude-opus-4-6"
  plan:
    backend: claude
    model: "claude-sonnet-4-6"
  run:
    backend: claude
    model: "claude-opus-4-6"
  review:
    backend: codex
    model: "gpt-5.3-codex"
    effort: "high"

git:
  auto_commit: true
  squash_before_push: true
  branch_prefix: "feature"
  commit_prefix: "feat"

review:
  enabled: true
  engine: codex
  codex_model: "gpt-5.3-codex"
  codex_reasoning_effort: "high"
  checks:
    - "cargo build"
    - "cargo +nightly fmt -- --check"
    - "cargo clippy -- -D warnings"
    - "cargo nextest run --all-features"
  max_review_rounds: 5
